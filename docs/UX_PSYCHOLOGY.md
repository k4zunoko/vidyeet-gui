# UX Psychology Notes（UI/UX設計のための要点）

このメモは、以下のページ群の内容を参考に「実装に落とせる粒度」で要約し、vidyeet-gui のUI設計に適用する観点を整理したものです。

参照:

- https://www.shokasonjuku.com/ux-psychology
- https://www.shokasonjuku.com/ux-psychology/cognitive-load
- https://www.shokasonjuku.com/ux-psychology/progressive-disclosure
- https://www.shokasonjuku.com/ux-psychology/visual-hierarchy
- https://www.shokasonjuku.com/ux-psychology/doherty-threshold
- https://www.shokasonjuku.com/ux-psychology/peak-end-rule

（最終更新: 2025-12-25）

---

## vidyeet-guiに特に効く原則（優先度高）

### 認知負荷（Cognitive Load）

- ねらい: ユーザーの「一度に処理できる情報量」には限界があるため、画面の情報量や操作手順が多いほど迷いや離脱が増える。
- 使い所:
  - 初回起動時の認証
  - 一覧画面でのカード情報量
  - 失敗時のエラーメッセージ
- vidyeet-guiへの適用案:
  - 一覧カードに載せる情報は最小限（サムネ＋短い状態）に寄せ、詳細は選択後に表示。
  - エラー表示は原因の推測を増やしすぎず「次に押すボタン」を先に出す。
  - 右クリックメニューも項目を絞り、頻出操作（コピー/削除）だけ上位に配置。

### 段階的開示（Progressive Disclosure）

- ねらい: 最初から全部の機能や情報を見せず、必要なタイミングで必要な分だけ見せると理解コストが下がる。
- 使い所:
  - 追加機能（詳細表示/URLコピー拡張/設定画面など）を追加してもUIを破綻させない
- vidyeet-guiへの適用案:
  - MVPは「一覧→選択→再生」を中心にし、詳細情報や高度な操作は「詳細パネル」や「右クリック」へ寄せる。
  - 未認証時は一覧UIを見せず、ログイン導線に集中させる。

### 視覚的階層（Visual Hierarchy）

- ねらい: 視線誘導と情報の優先順位付けにより、ユーザーが迷わず目的操作に到達できる。
- 使い所:
  - 一覧（大量のサムネから目的の1つを選ぶ）
  - 再生（再生中の状態が分かる、次の操作が分かる）
  - エラー（ユーザーが取るべき行動が分かる）
- vidyeet-guiへの適用案:
  - 一覧は「選択中カード」「再生中」を明確に区別（枠/ラベルなど）。
  - エラー時はボタン（再試行/ログインへ）を最も目立つ場所に固定。
  - 進行中（読み込み/取得/再生準備）を視覚的に一貫した表現に統一。

### ドハティの閾値（Doherty Threshold / 0.4秒の壁）

- ねらい: 反応が遅いと、ユーザーは待たされている感覚が増えやすい。0.4秒を超えるなら「待っている間のフィードバック」が重要。
- 使い所:
  - 起動時 `status` / `list`
  - サムネ/GIFの読込
  - HLSの初回バッファ
- vidyeet-guiへの適用案:
  - 0.4秒を超えそうな箇所はスケルトン/プレースホルダを出す（一覧カード枠、プレイヤー枠）。
  - 「今何をしているか」（認証確認中/一覧取得中/再生準備中）を短い文言で出す。

### ピーク・エンドの法則（Peak-End Rule）

- ねらい: 体験全体の平均ではなく「最も印象的な瞬間（ピーク）」と「終わり方（エンド）」が記憶に残りやすい。
- 使い所:
  - ログイン成功/失敗
  - 一覧取得完了
  - 再生開始/終了
  - アップロード完了
- vidyeet-guiへの適用案:
  - 成功時は短く肯定的に（例: “準備できました / 再生できます”）
  - 失敗時は「復帰できる終わり方」にする（再試行・入力保持・原因の可能性を1つだけ示す等）

---

## 一覧ページ（カタログ）から拾える、追加で使える観点

※以下は https://www.shokasonjuku.com/ux-psychology に列挙されている概念のうち、vidyeet-guiの文脈で使いどころが多いものを「設計チェック項目」としてまとめたものです（詳細は各リンク先参照）。

- バナー・ブラインドネス: 重要情報を“広告っぽい見た目”にしない（重要な警告/状態はバナー風にしすぎない）。
- デフォルト効果: 迷いそうな選択は安全なデフォルトを用意（例: サムネ表示形式、GIFホバーのON/OFFなど将来設定）。
- 決断疲れ: 選択肢を増やしすぎない（操作は「再生」「削除」「コピー」などコアに絞る）。
- 選択的注意: ユーザーは目的に関係ない情報を無視しやすい（一覧では“探すための手がかり”を目立たせる）。
- フレーミング効果: 同じ内容でも言い方で印象が変わる（エラー文言は断定しない、次の行動を促す）。
- 損失回避: 失う可能性がある操作（削除）は慎重に（確認/Undo/意図的な壁）。
- 意図的な壁（Intentional Friction）: 破壊的操作にだけ一段階挟む（削除時の確認や、入力の再確認など）。
- ツァイガルニク効果: 未完了が気になる性質を利用（アップロード進捗や、一覧更新中の進捗表示）。

---

---

## 進捗表示の補間（Progress Interpolation）

### Nielsen Norman Group の研究に基づく原則

参照: https://www.nngroup.com/articles/progress-indicators/

**応答時間の3つの重要な限界:**
- **0.1秒**: ユーザーが「瞬時に反応した」と感じる限界。特別なフィードバック不要
- **1.0秒**: ユーザーの思考の流れが途切れない限界。遅延は認識されるが、フィードバックは不要
- **10秒**: ユーザーの注意が途切れる限界。**percent-done indicator が必須**

**進捗表示の効果:**
- 進捗表示があるとユーザーは **3倍長く待てる**
- システムが動作中であることの保証
- 残り時間の推定により、他のタスクに切り替えられる
- 待ち時間の認知リソースを進捗表示に向けることで、体感時間を短縮

### vidyeet-gui のアップロード進捗における課題

**問題:** CLI は chunk 完了（16MB単位）でしか進捗を報告しない → プログレスバーが離散的にジャンプする

**解決策:** Truth（確定値）と Display（表示値）を分離し、推定補間で滑らかに表示

### 実装方針

#### 1. Truth と Display の分離
- **Truth**: CLI が報告した確定済みバイト数（chunk 完了ベース）
- **Display**: Truth を下限として、次の chunk 境界まで滑らかに補間
- **制約**: `truth ≤ display < next_chunk_boundary`（境界を超えない = 嘘にならない）

#### 2. 推定ロジック
1. **直近の chunk 所要時間から期待時間 E を計算**（指数移動平均 EMA）
2. **現在の chunk 内での進捗を ease-out カーブで推定**
3. **境界手前で自然に減速・停止**（margin を残す、例: 1.5%）
4. **CLI 更新が遅延した場合は推定を停止**（最大 30 秒待機）

#### 3. Ease-out Cubic 関数
```
easeOutCubic(t) = 1 - (1 - t)³
```
- 最初は速く進み、後半で減速
- chunk 境界での停止を視覚的に自然に見せる

#### 4. UI テキストでの明示
バー自体は滑らかでも、テキストで推定であることを明示することで誤解を防ぐ:
- 例: 「チャンク完了: 3 / 10（進捗表示は推定値）」
- 例: 「送信済み: 64MB / 512MB」
- **バー = 体感**、**テキスト = 事実** の役割分離

#### 5. CSS トランジション
- 補間更新間隔: 100ms（10fps）
- CSS トランジション: `transition: width 0.1s linear`
- 補間値とトランジションを組み合わせることで、滑らかな動きを実現

### 実装ファイル
- `src/composables/useProgressInterpolation.ts`: 補間ロジックのコンポーザブル
- `src/App.vue`: アップロード進捗コールバックで補間を適用

### 期待される UX 効果
1. **滑らかな進捗表示**: chunk ジャンプが緩和され、連続的に見える
2. **待ち時間の短縮感**: 動きがあることで認知リソースが分散
3. **誤解の防止**: 推定であることを明示し、信頼性を維持
4. **境界での自然な停止**: ease-out により、停止が違和感なく見える

---

## vidyeet-gui用：UI/UXレビュー用チェックリスト（短縮版）

- 起動直後にユーザーが迷う分岐がないか（未認証→ログインに集中）
- `status/list` の待ち時間に、必ず視覚フィードバックがあるか（スケルトン/文言）
- 一覧カードの情報量は最小か（必要なら段階的開示できているか）
- エラー時に"次の一手"が最上位に出ているか（再試行/ログイン等）
- 削除などの破壊的操作にだけ、意図的な壁があるか（確認ダイアログ）
- **進捗表示（10秒以上）には percent-done indicator があるか、補間は適切か**

